<div class="py-4 px-0">
  <div class="container">
    <h1>{{ "forms.editEducationalResource.title" | translate }}</h1>

    <ul class="list-inline material-form-tabs">
      <li class="list-inline-item">
        <a [routerLink]="['/muokkaa-oppimateriaalia', educationalMaterialID, 1]" routerLinkActive="active">
          {{ "forms.educationalResource.nav.files" | translate }}
        </a>
      </li>

      <li class="list-inline-item divider" aria-hidden="true">
        <img src="assets/img/icons/ic_arrow_right_black.svg" alt="divider arrow" />
      </li>

      <li class="list-inline-item">
        <a [routerLink]="['/muokkaa-oppimateriaalia', educationalMaterialID, 2]" routerLinkActive="active">
          {{ "forms.educationalResource.nav.basicDetails" | translate }}
        </a>
      </li>

      <li class="list-inline-item divider" aria-hidden="true">
        <img src="assets/img/icons/ic_arrow_right_black.svg" alt="divider arrow" />
      </li>

      <li class="list-inline-item">
        <a [routerLink]="['/muokkaa-oppimateriaalia', educationalMaterialID, 3]" routerLinkActive="active">
          {{ "forms.educationalResource.nav.educationalDetails" | translate }}
        </a>
      </li>

      <li class="list-inline-item divider" aria-hidden="true">
        <img src="assets/img/icons/ic_arrow_right_black.svg" alt="divider arrow" />
      </li>

      <li class="list-inline-item">
        <a [routerLink]="['/muokkaa-oppimateriaalia', educationalMaterialID, 4]" routerLinkActive="active">
          {{ "forms.educationalResource.nav.extendedDetails" | translate }}
        </a>
      </li>

      <li class="list-inline-item divider" aria-hidden="true">
        <img src="assets/img/icons/ic_arrow_right_black.svg" alt="divider arrow" />
      </li>

      <li class="list-inline-item">
        <a [routerLink]="['/muokkaa-oppimateriaalia', educationalMaterialID, 5]" routerLinkActive="active">
          {{ "forms.educationalResource.nav.licenseDetails" | translate }}
        </a>
      </li>

      <li class="list-inline-item divider" aria-hidden="true">
        <img src="assets/img/icons/ic_arrow_right_black.svg" alt="divider arrow" />
      </li>

      <li class="list-inline-item">
        <a [routerLink]="['/muokkaa-oppimateriaalia', educationalMaterialID, 6]" routerLinkActive="active">
          {{ "forms.educationalResource.nav.basedOnDetails" | translate }}
        </a>
      </li>

      <li class="list-inline-item divider" aria-hidden="true">
        <img src="assets/img/icons/ic_arrow_right_black.svg" alt="divider arrow" />
      </li>

      <li class="list-inline-item">
        <a [routerLink]="['/muokkaa-oppimateriaalia', educationalMaterialID, 7]" routerLinkActive="active">
          {{ "forms.educationalResource.nav.preview" | translate }}
        </a>
      </li>
    </ul>

    <ng-container [ngSwitch]="tabId" *ngIf="(educationalMaterialEditForm$ | async) as editForm">
      <app-tabs-edit-files
        *ngSwitchCase="1"
        [tabId]="1"
        (abortEdit)="openConfirmModal(confirmAbort)"></app-tabs-edit-files>

      <app-tabs-edit-basic-details
        *ngSwitchCase="2"
        [material]="editForm"
        [materialId]="educationalMaterialID"
        [tabId]="2"
        (abortEdit)="openConfirmModal(confirmAbort)"></app-tabs-edit-basic-details>

      <app-tabs-edit-educational-details
        *ngSwitchCase="3"
        [material]="editForm"
        [materialId]="educationalMaterialID"
        [tabId]="3"
        (abortEdit)="openConfirmModal(confirmAbort)"></app-tabs-edit-educational-details>

      <app-tabs-edit-extended-details
        *ngSwitchCase="4"
        [material]="editForm"
        [materialId]="educationalMaterialID"
        [tabId]="4"
        (abortEdit)="openConfirmModal(confirmAbort)"></app-tabs-edit-extended-details>

      <app-tabs-edit-license
        *ngSwitchCase="5"
        [material]="editForm"
        [materialId]="educationalMaterialID"
        [tabId]="5"
        (abortEdit)="openConfirmModal(confirmAbort)"></app-tabs-edit-license>

      <app-tabs-edit-based-on-details
        *ngSwitchCase="6"
        [material]="editForm"
        [materialId]="educationalMaterialID"
        [tabId]="6"
        (abortEdit)="openConfirmModal(confirmAbort)"></app-tabs-edit-based-on-details>

      <app-tabs-edit-preview
        *ngSwitchCase="7"
        [tabId]="7"
        [materialId]="educationalMaterialID"
        (abortEdit)="openConfirmModal(confirmAbort)"></app-tabs-edit-preview>
      <!--        [material]="editForm"-->
    </ng-container>
  </div>
</div>

<ng-template #confirmAbort>
  <div class="modal-body text-center">
    <p>{{ "forms.editEducationalResource.abort.text" | translate }}</p>
    <button type="button" class="btn btn-blue" (click)="abort()">
      {{ "forms.editEducationalResource.abort.confirm" | translate }}
    </button>
    <button type="button" class="btn btn-outline-blue" (click)="confirmModalRef.hide()">
      {{ "forms.editEducationalResource.abort.cancel" | translate }}
    </button>
  </div>
</ng-template>
