version: "3.8"

services:
  aoe-semantic-apis:
    build:
      context: .
      dockerfile: ./docker/Dockerfile.demo
    image: aoe-semantic-apis-demo:latest
    container_name: aoe-semantic-apis-demo
    restart: unless-stopped
    ports:
      - "3000:3000"
    environment:
      - NODE_ENV=production
    env_file: /environment/aoe-semantic-apis/.env
    command: sh -c "yarn install && yarn build && yarn serve"
    networks:
      - network-semantic-apis-demo

networks:
  network-semantic-apis-demo:
    driver: bridge
