<nav class="navbar navbar-expand-lg navbar-dark bg-primary" id="main-navigation">
  <div class="container-fluid">
    <a class="navbar-brand" routerLink="/etusivu">
      <img [src]="brand[translate.currentLang].img" [alt]="brand[translate.currentLang].alt" class="img-fluid">
    </a>

    <button
      class="navbar-toggler"
      type="button"
      data-toggle="collapse"
      data-target="#main-navbar"
      aria-controls="main-navbar"
      aria-expanded="false"
      [attr.aria-label]="'navigation.toggler.aria.label' | translate"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" routerLink="/etusivu" routerLinkActive="active">
            {{ 'navigation.home' | translate }}
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/kokoelmat" routerLinkActive="active">
            {{ 'navigation.collections' | translate }}
          </a>
        </li>
        <li class="nav-item" *ngIf="authSvc.hasUserdata()">
          <a class="nav-link" routerLink="/omat-oppimateriaalit" routerLinkActive="active">
            {{ 'navigation.myMaterials' | translate }}
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/lisatietoa" routerLinkActive="active">
            {{ 'navigation.info' | translate }}
          </a>
        </li>
      </ul>

      <nav
        class="nav ml-auto nav-languages flex-column flex-lg-row"
        [attr.aria-label]="'navigation.langSelector.label' | translate"
      >
        <ng-container *ngFor="let lang of translate.getLangs()">
          <button
            class="btn btn-link nav-link"
            (click)="changeLanguage(lang)"
            [ngClass]="translate.currentLang === lang ? 'active' : ''"
            [lang]="lang"
          >
            <span class="sr-only">{{ languages.get(lang).srText }}</span>
            <span aria-hidden="true">{{ languages.get(lang).label }}</span>
          </button>
        </ng-container>
      </nav>

      <app-nav-login></app-nav-login>
    </div>
  </div>
</nav>

<!--@todo: this needs to be automated-->
<div *ngIf="showMaintenanceAlert" class="alert alert-warning mb-0" role="alert">
  <div class="container">
    Aoe.fi-sivustolla on huoltokatko keskiviikkona 26.8.2020 klo 14.00 - 16.00 välisenä aikana.
    Huoltokatko kestää arviolta puoli tuntia. Pahoittelemme palvelukatkosta aiheutuvaa haittaa.
  </div>
</div>

<alert type="feedback">
  <div class="container">
    Avointen oppimateriaalien kirjasto kerää tällä hetkellä tietoa palvelun käytöstä ja kehitystarpeista jatkosuunnittelun tueksi. Täyttämällä lyhyen kyselyn autat meitä näkemään tärkeimmät kehityskohteet, jotta avointen oppimateriaalien jakaminen ja niiden käyttäminen olisi sujuvaa. <a href="https://link.webropolsurveys.com/Participation/Public/d3c78bc8-f4fd-49cc-8ea0-1bfa9a24c271?displayId=Fin2032610" class="alert-link" target="_blank" rel="noopener nofollow">Siirry kyselyyn tästä.</a>
  </div>
</alert>

<div class="app-body">
  <!-- Main content -->
  <main class="main">
    <router-outlet></router-outlet>
  </main>
</div>

<footer class="app-footer">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-auto text-center">
        <h2>aoe.fi</h2>

        <ul class="nav">
          <li class="nav-item">
            <a class="nav-link" routerLink="/kayttoehdot">
              {{ 'navigation.termsOfUse' | translate }}
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/tietosuojailmoitus">
              {{ 'navigation.privacyPolicy' | translate }}
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/saavutettavuusseloste">
              {{ 'navigation.accessibilityPolicy' | translate }}
            </a>
          </li>
        </ul>

        <a
          class="nav-link"
          href="https://link.webropolsurveys.com/S/3580E5A216266683"
          target="_blank"
          rel="noopener nofollow"
        >{{ 'footer.feedback' | translate }}</a>

        <span>
          {{ 'footer.orEmailUs' | translate }}
          <a href="mailto:oppimateriaalivaranto@csc.fi">oppimateriaalivaranto@csc.fi</a>
        </span>
      </div>
    </div>
  </div>
</footer>

<div class="logos">
  <div class="container">
    <div class="row justify-content-center align-items-center">
      <div class="col-auto">
        <img [src]="logos.okm[translate.currentLang].src" [alt]="logos.okm[translate.currentLang].alt" class="img-fluid">
      </div>

      <div class="col-auto text-center">
        <img src="assets/img/logos/csc.png" alt="CSC" class="img-fluid">
        <span>{{ 'footer.developer' | translate }}</span>
      </div>

      <div class="col-auto">
        <img [src]="logos.oph[translate.currentLang].src" [alt]="logos.oph[translate.currentLang].alt" class="img-fluid">
      </div>
    </div>
  </div>
</div>

<app-cookie-notice *ngIf="showNotice" (hideCookieNotice)="hideCookieNotice()"></app-cookie-notice>
